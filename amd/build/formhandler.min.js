define("block_revisionmanager/formhandler",["jquery","core/ajax","core/notification"],(function($,Ajax,Notification){return{init:function(params){function saveData(){const date=$("#nextReview").val(),learninglevel=$("#learninglevel").val(),revisioncount=$("#revisioncount").val(),targetcount=$("#targetcount").val(),pageurl=window.location.pathname+window.location.search;date?Ajax.call([{methodname:"block_revisionmanager_save_entry",args:{nextreview:date,pageurl:pageurl,courseid:params.courseid,pagetitle:params.pagetitle,learninglevel:learninglevel,revisioncount:revisioncount,targetcount:targetcount},done:function(response){console.log("Saved:",response.status)},fail:Notification.exception}]):window.console.log("date cleared. TODO: Update when to delete page row from the table")}$("#nextReview").on("input change",saveData),$("#learninglevel").on("input change",saveData),$("#revisioncount").on("input change",saveData),$("#targetcount").on("input change",saveData),function(){const pageurl=window.location.pathname+window.location.search;Ajax.call([{methodname:"block_revisionmanager_get_entry",args:{pageurl:pageurl,courseid:params.courseid},done:function(data){data.nextreview&&$("#nextReview").val(data.nextreview),data.learninglevel&&$("#learninglevel").val(data.learninglevel),data.revisioncount&&$("#revisioncount").val(data.revisioncount),data.targetcount&&$("#targetcount").val(data.targetcount)},fail:Notification.exception}])}()}}}));

//# sourceMappingURL=formhandler.min.js.map