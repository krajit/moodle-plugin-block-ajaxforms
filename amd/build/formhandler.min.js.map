{"version":3,"file":"formhandler.min.js","sources":["../src/formhandler.js"],"sourcesContent":["define(['jquery', 'core/ajax', 'core/notification'], function($, Ajax, Notification) {\n    return {\n        init: function(params) {\n            function saveData() {\n                const date = $('#nextReview').val();\n                const pageurl = window.location.pathname + window.location.search;\n\n                if (!date) {\n                    // Nothing to save\n                    return;\n                }\n\n                Ajax.call([{\n                    methodname: 'block_ajaxforms_save_entry',\n                    args: {\n                        nextreview: date,\n                        pageurl: pageurl,\n                        courseid: params.courseid\n                    },\n                    done: function(response) {\n                        window.console.log('Saved:', response.status);\n                    },\n                    fail: Notification.exception\n                }]);\n                \n            }\n\n            // Attach listeners for autosave\n            $('#nextReview').on('input change', saveData);\n        }\n    };\n});"],"names":["define","$","Ajax","Notification","init","params","on","date","val","pageurl","window","location","pathname","search","call","methodname","args","nextreview","courseid","done","response","console","log","status","fail","exception"],"mappings":"AAAAA,qCAAO,CAAC,SAAU,YAAa,sBAAsB,SAASC,EAAGC,KAAMC,oBAC5D,CACHC,KAAM,SAASC,QA0BXJ,EAAE,eAAeK,GAAG,iCAxBVC,KAAON,EAAE,eAAeO,MACxBC,QAAUC,OAAOC,SAASC,SAAWF,OAAOC,SAASE,OAEtDN,MAKLL,KAAKY,KAAK,CAAC,CACPC,WAAY,6BACZC,KAAM,CACFC,WAAYV,KACZE,QAASA,QACTS,SAAUb,OAAOa,UAErBC,KAAM,SAASC,UACXV,OAAOW,QAAQC,IAAI,SAAUF,SAASG,SAE1CC,KAAMrB,aAAasB"}