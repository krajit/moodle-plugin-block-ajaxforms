define("block_revisionmanager/boooktocmarker",["jquery","core/ajax"],(function($,Ajax){return{init:function(params){Ajax.call([{methodname:"block_revisionmanager_get_read_urls",args:{courseid:params.courseid},done:function(result){const visited=result.urls.map((url=>url.replace(/^\/+/,"")));console.log("Visited URLs from DB:",visited),$("div.book_toc a").each((function(){const fullpath="mod/book/"+$(this).attr("href");console.log("Checking:",fullpath),visited.includes(fullpath)&&(console.log("Matched:",fullpath),$(this).addClass("read-chapter"))}))},fail:function(err){console.error("Could not fetch read URLs",err)}}])}}}));

//# sourceMappingURL=boooktocmarker.min.js.map